<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Students</title>
</head>
<body>
<h1>Students</h1>

<!-- Link to create new student -->
<p><a href="/students/new">Add Student</a></p>

<ul>
    <li th:each="s : ${students}">
        <b th:text="${s.name}">Name</b> -
        <span th:text="${s.email}">email</span> -
        <span th:text="${s.department}">dept</span> -
        Year: <span th:text="${s.year}">year</span> -
        Mentor: <span th:text="${s.mentor != null ? s.mentor.name : 'None'}">mentor</span>

        <!-- Edit -->
        <a th:href="@{'/students/edit/' + ${s.id}}">Edit</a>

        <!-- Delete (POST) -->
        <form th:action="@{'/students/delete/' + ${s.id}}" method="post" style="display:inline;">
            <button type="submit" onclick="return confirm('Delete this student?');">Delete</button>
        </form>
    </li>
</ul>

</body>
</html>
